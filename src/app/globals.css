@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* ── Design System Tokens ─────────────────────────────────── */

@theme inline {
  /* Colors — derived from M3 logo */
  --color-primary: #0A1628;
  --color-primary-light: #162A4A;
  --color-accent: #20B2FF;
  --color-accent-light: #5CC8FF;
  --color-magenta: #FF0AA3;
  --color-magenta-light: #FF4DBF;
  --color-purple: #A325D4;
  --color-indigo: #5628F7;
  --color-terracotta: #FF0AA3;
  --color-sage: #20B2FF;
  --color-error: #EF4444;

  --color-neutral-900: #0F172A;
  --color-neutral-700: #334155;
  --color-neutral-400: #94A3B8;
  --color-neutral-200: #E2E8F0;
  --color-neutral-100: #F1F5F9;
  --color-neutral-50: #F8FAFC;

  /* Fonts */
  --font-heading: var(--font-playfair), "Georgia", serif;
  --font-body: var(--font-inter), "Helvetica Neue", sans-serif;
  --font-accent: var(--font-cormorant), "Georgia", serif;

  /* Animation timing */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);

  /* Keyframes */
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes bounce-gentle {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6px);
    }
  }

  @keyframes grain {
    0%, 100% { transform: translate(0, 0); }
    10% { transform: translate(-5%, -10%); }
    20% { transform: translate(-15%, 5%); }
    30% { transform: translate(7%, -25%); }
    40% { transform: translate(-5%, 25%); }
    50% { transform: translate(-15%, 10%); }
    60% { transform: translate(15%, 0%); }
    70% { transform: translate(0%, 15%); }
    80% { transform: translate(3%, 35%); }
    90% { transform: translate(-10%, 10%); }
  }

  --animate-fade-in-up: fade-in-up 0.6s var(--ease-out-expo) both;
  --animate-bounce-gentle: bounce-gentle 2s ease-in-out infinite;
  --animate-grain: grain 8s steps(10) infinite;
}

/* ── Base Styles ──────────────────────────────────────────── */

html {
  scroll-behavior: smooth;
}

body {
  background-color: var(--color-neutral-50);
  color: var(--color-neutral-900);
  font-family: var(--font-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ── Grain Texture Overlay ────────────────────────────────── */

.grain-overlay::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 256px 256px;
  animation: var(--animate-grain);
}

/* ── Typography Utilities ──────────────────────────────────── */

.font-heading {
  font-family: var(--font-heading);
}

.font-accent {
  font-family: var(--font-accent);
}

/* ── Selection ──────────────────────────────────────────────── */

::selection {
  background-color: var(--color-accent);
  color: white;
}

/* ── Scrollbar ──────────────────────────────────────────────── */

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-neutral-100);
}

::-webkit-scrollbar-thumb {
  background: var(--color-neutral-400);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary-light);
}

/* ── Form Field Focus Ring ──────────────────────────────────── */

input:focus,
textarea:focus,
select:focus {
  outline: none;
}

/* ── Prose Customization (Blog) ─────────────────────────────── */

.prose-m3 {
  --tw-prose-body: var(--color-neutral-700);
  --tw-prose-headings: var(--color-neutral-900);
  --tw-prose-links: var(--color-accent);
  --tw-prose-bold: var(--color-neutral-900);
  --tw-prose-quotes: var(--color-primary);
  --tw-prose-quote-borders: var(--color-accent);
}
